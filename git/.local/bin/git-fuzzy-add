#!/bin/bash
# If there are no parameters, give the user options, and then add -e the results.
# Otherwise, if there are parameters, pass them directly to add.
if (( $# == 0 )); then
	git add -e -- $(git status --porcelain | sed -n -e 's,^ M,ï‘€,p' | fzf -m --preview='echo {} | sed -e"s,^.* ,," | xargs git diff' | sed -e's,^.* ,,')
else
	git add $@
fi
